<!DOCTYPE html>
<html lang="en" class="dark">
    <head>
        <meta charset="UTF-8">
        <title>--</title>
        <link href="./src/output.css" rel="stylesheet">
        <script>
            //Manual page patch to load background.
            window.addEventListener('DOMContentLoaded', () => {
            const background = document.getElementById('background');

            setTimeout(() => {
                fetch('./background.html')
            .then(response => {
                if (!response.ok) throw new Error('Failed to load background');
                return response.text();
            })
            .then(html => {
                background.innerHTML = html;
                
                void background.offsetWidth;
            })
            .catch(err => {
                console.error(err);
                background.innerHTML = '<p>Background failed to load.</p>';
            });
            }, 0);

        });
        </script>
    </head>
    <body class="overflow-x-hidden bg-rosepine-dawn-base dark:bg-rosepine-base">

        <div id="background" class="fixed top-0 left-0 w-screen h-screen -z-10"></div>


        <div id="quote-container" class="select-none flex flex-col relative w-screen h-screen z-0 items-center justify-center blur-2xl duration-750">
            <p id="quote" class="text-rosepine-dawn-rose dark:text-rosepine-rose text-3xl px-20 text-center">...</p>
            <div class="h-8"></div>
            <p id="author" class="text-rosepine-dawn-rose dark:text-rosepine-rose text-2xl font-bold text-center">---</p>
        </div>

        <div class="fixed bottom-0 items-center w-full h-fit text-rosepine-dawn-rose dark:text-rosepine-rose text-md mb-10 text-center z-10">INACTIVE --> Hold [SHIFT] to wait <-- INACTIVE</div>

        <!--Non-func sidebar-->
        <div id="sidebar" class="fixed top-0 left-0 h-screen justify-between w-18 bg-rosepine-dawn-surface/20 dark:bg-rosepine-surface/20 backdrop-blur-sm flex-col z-50 ring-2 ring-rosepine-dawn-rose dark:ring-rosepine-rose transform transition-transform -translate-x-full duration-1000"></div>
        
        <div id="transition-box" class="right-0 top-0 fixed w-[calc(100vw-4.5rem)] h-full z-20 ring-2 bg-rosepine-dawn-surface/20 ring-rosepine-dawn-rose dark:bg-rosepine-surface/20 dark:ring-rosepine-rose backdrop-blur-lg transition-transform translate-x-full duration-1000"></div>
        <script>
        window.addEventListener("DOMContentLoaded", () => {
            const transitionBox = document.getElementById("transition-box");
            const sidebar = document.getElementById("sidebar");

            const quoteContainer = document.getElementById("quote-container");
            const quote = document.getElementById("quote");
            const author = document.getElementById("author");

            const quotes = [
                { text: "The most incomprehensible thing about the world is that it is comprehensible.", author: "Albert Einstein" },
                { text: "Somewhere, something incredible is waiting to be known.", author: "Carl Sagan" },
                { text: "Nothing in life is to be feared, it is only to be understood. Now is the time to understand more, so that we may fear less.", author: "Marie Curie" },
                { text: "If I have seen further it is by standing on the shoulders of giants.", author: "Isaac Netwon" },
                { text: "An expert is a person who has made all the mistakes that can be made in a very narrow field.", author: "Niels Bohr" },
                { text: "The universe is not required to be in perfect harmony with human ambition.", author: "Carl Sagan" },
                { text: "Give me a firm place to stand and I will move the earth.", author: "Archimedes" },
                { text: "Measure what can be measured, and make measurable what cannot be measured.", author: "Galileo Galilei" },
                { text: "I have done a terrible thing, I have postulated a particle that cannot be detected.", author: "Wolfgang Pauli about the Neutrino, discovered 26 years later." },
                { text: "In Einstein’s theory of relativity the observer is a man who sets out in quest of truth armed with a measuring-rod. In quantum theory he sets out with a sieve.", author: "Sir Arthur Eddington" },
                { text: "There are things that are so serious that you can only joke about them.", author: "Niels Bohr" }
            ];
            
            setTimeout(() => {
                const random = quotes[Math.floor(Math.random() * quotes.length)];
                document.getElementById("quote").textContent = `"${random.text}"`;
                document.getElementById("author").textContent = `— ${random.author}`;

            }, 0);
            
            setTimeout(() => {
                quoteContainer.classList.replace("blur-2xl", "blur-none");
            }, 100);

            setTimeout(() => {
                transitionBox.classList.replace("translate-x-full", "translate-x-0");
                sidebar.classList.replace("-translate-x-full", "translate-x-0");
            }, 3000);
            
            setTimeout(() => {
                window.location.href = window.location.pathname.replace(/\/[^/]*$/, "/about-me/");
            }, 4500)




            const storedTheme = localStorage.getItem('theme');
            if (storedTheme === 'dark') {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });
        </script>
    </body>
</html>